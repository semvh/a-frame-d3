<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>A-frame and D3</title>
    <meta name="description" content="A-frame and D3">
    <script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script>

    <!-- New D3 -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.5.0/d3.min.js"></script> -->

    <!-- Old D3 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
    
    <style>
      body {
        margin: 0;
        position: fixed;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
      }
    </style>

  </head>
  <body>
    <a-scene>
      
      <!-- Camera -->

      <a-entity position="0 0.5 0">
        <a-entity camera="" look-controls="" wasd-controls="">
          <a-cursor color="#FFF"></a-cursor>
        </a-entity>
      </a-entity>

      <!-- Box (not used) -->
      
      <!-- <a-box position="-1.5 0 -4" scale="1" color="teal"></a-box> -->


      <a-sky color="#f1f1f1"></a-sky>
    </a-scene>

    <script>
      // fake data
      var data = [ 10, 20, 30 ]

      var hscale = d3.scale.linear()
          .domain([0, d3.max(data)])
          .range([0,5])

      var scene = d3.select("a-scene");
      
      var boxes = scene.selectAll("a-box.bar").data(data);
      boxes.enter().append("a-box").classed("bar", true)

      boxes.attr({
        position: function(d,i) {
          var x = i * 1.5;
          var y = hscale(d)/2;;
          var z = -15;
          return x + " " + y + " " + z
        },
        
        height: function(d,i) {
          return hscale(d)
        },

        color: "#e8431f"

      })




    </script>
  </body>
</html>
